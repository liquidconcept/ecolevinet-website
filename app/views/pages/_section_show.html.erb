<% odd = true %>
<% page.children.each do |child| %>

  <% case child.data_type %>
  <% when "news_items" %>
    <% if page.section.news_items.any? %>
      <%= render :partial => 'news_items',       :locals => {:section => page.section, :odd => odd }   %>
      <% odd = !odd %>
    <% end %>
  <% when "events" %>
    <% if page.section.events.any? %>
      <%= render :partial => 'events/calendar',   :locals => {:section => page.section, :odd => odd }   %>
      <% odd = !odd %>
    <% end %>
  <% when "portfolio" %>
    <% if page.section.portfolio_entries.any? %>
      <%= render :partial => 'portfolio',  :locals => {:section => page.section, :odd => odd }   %>
      <% odd = !odd %>
    <% end %>
  <% else %>
    <%= render :partial => 'page',       :locals => {:page => child, :odd => odd }   %>
    <% odd = !odd %>
  <% end %>
<% end %>
